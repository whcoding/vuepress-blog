(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{345:function(s,n,a){"use strict";a.r(n);var e=a(7),t=Object(e.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h4",{attrs:{id:"为什么要更改运行用户"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#为什么要更改运行用户"}},[s._v("#")]),s._v(" 为什么要更改运行用户")]),s._v(" "),n("ul",[n("li",[s._v("nginx 和 fpm 默认运行用户的 www-data")]),s._v(" "),n("li",[s._v("再部署项目的时候 一般来说都是用自己创建的用户去 "),n("code",[s._v("git clone")]),s._v(" 代码 所以 "),n("code",[s._v("clone")]),s._v(" 下来的代码文件 都属于这个用户, 所以在运行项目的时候就会有很多权限的问题, 所以要改变 nginx 和 fpm 的默认运行用户")])]),s._v(" "),n("h4",{attrs:{id:"更改-nginx-默认用户"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#更改-nginx-默认用户"}},[s._v("#")]),s._v(" 更改 nginx 默认用户")]),s._v(" "),n("div",{staticClass:"language-code line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("vi /etc/nginx/nginx.conf\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language-code line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("user 更改这里;\nworker_processes auto;\npid /run/nginx.pid;\ninclude /etc/nginx/modules-enabled/*.conf;\n\nevents {\n        worker_connections 768;\n        # multi_accept on;\n}\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h4",{attrs:{id:"更改-php-fpm-默认用户"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#更改-php-fpm-默认用户"}},[s._v("#")]),s._v(" 更改 php-fpm 默认用户")]),s._v(" "),n("div",{staticClass:"language-code line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("/etc/php/7.3/fpm/pool.d/www.conf\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language-code line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("..... \nuser = 更改这里\ngroup = 更改这里\n\n....\nlisten.owner = 更改这里\nlisten.group = 更改这里\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("最后要记得 重启 nginx 和 php-fpm")])])}),[],!1,null,null,null);n.default=t.exports}}]);