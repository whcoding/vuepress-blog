(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{335:function(e,s,r){"use strict";r.r(s);var a=r(7),t=Object(a.a)({},(function(){var e=this,s=e._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h3",{attrs:{id:"简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[e._v("#")]),e._v(" 简介")]),e._v(" "),s("p",[e._v("之前使用Docker 都是手动去操作单个容器 比如: 编写DockerFile 手动执行 build run 等操作, 这样的弊端是如果我们有很多服务的话一个一个的执行会很麻烦\n所以使用Docker Compose来轻松高效的管理容器, 可以定义运行多个容器.")]),e._v(" "),s("blockquote",[s("p",[e._v("Docker Compose 特性")])]),e._v(" "),s("ul",[s("li",[e._v("定义, 运行多个容器.")]),e._v(" "),s("li",[e._v("YAML file 配置文件.")]),e._v(" "),s("li",[e._v("docker-compose 命令.")])]),e._v(" "),s("blockquote",[s("p",[e._v("自己理解\ncompose是docker官方开源的项目, 需要安装.\n比如有一个 web服务 我们需要安装 nginx, php, mysql, redis 多个容器,我们使用DockerFile一个一个的去写, 一个一个的去运行命令会非常的麻烦.")])]),e._v(" "),s("h3",{attrs:{id:"安装-docker-compose"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装-docker-compose"}},[e._v("#")]),e._v(" 安装 docker-compose")]),e._v(" "),s("ul",[s("li",[e._v("官方提供的GitHub地址太慢,这里使用国内的镜像: "),s("a",{attrs:{href:"https://get.daocloud.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("地址"),s("OutboundLink")],1)]),e._v(" "),s("li",[e._v("安装完成使用命令 docker-compose version 有版本信息表示安装成功")])]),e._v(" "),s("h3",{attrs:{id:"快速上手"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#快速上手"}},[e._v("#")]),e._v(" 快速上手")]),e._v(" "),s("ul",[s("li",[e._v("参考官方"),s("a",{attrs:{href:"https://docs.docker.com/compose/gettingstarted/#prerequisites",target:"_blank",rel:"noopener noreferrer"}},[e._v("示例"),s("OutboundLink")],1)])]),e._v(" "),s("ol",[s("li",[e._v("创建应用 app.py")]),e._v(" "),s("li",[e._v("Dockerfile 应用打包成镜像")]),e._v(" "),s("li",[e._v("docker-compose yaml文件 定义整个服务(所需的环境)")]),e._v(" "),s("li",[e._v("启动compose项目")])]),e._v(" "),s("h4",{attrs:{id:"流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#流程"}},[e._v("#")]),e._v(" 流程")]),e._v(" "),s("ol",[s("li",[e._v("创建网络")]),e._v(" "),s("li",[e._v("执行 docker-composer yaml")]),e._v(" "),s("li",[e._v("启动服务")])]),e._v(" "),s("h3",{attrs:{id:"docker-compose-配置编写规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose-配置编写规则"}},[e._v("#")]),e._v(" docker-compose 配置编写规则")]),e._v(" "),s("h4",{attrs:{id:"yaml-规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#yaml-规则"}},[e._v("#")]),e._v(" yaml 规则")]),e._v(" "),s("ul",[s("li",[e._v("参考官方"),s("a",{attrs:{href:"https://docs.docker.com/compose/compose-file/",target:"_blank",rel:"noopener noreferrer"}},[e._v("文档"),s("OutboundLink")],1)])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("#  yaml 有三层\n\nversion '' # 1.版本 对应docker版本\nservice '' # 2.服务\n    服务1 : web\n        # 服务配置\n        image\n        build\n        network\n    服务2 : redis\n    .....\n\n# 3.其他配置 网络/卷/全局规则\nvolumes:\nnetworks:\nconfigs:    \n\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br")])])])}),[],!1,null,null,null);s.default=t.exports}}]);