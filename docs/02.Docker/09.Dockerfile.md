---
title: Dockerfile
date: 2020-09-16 13:28:00
permalink: /pages/089751/
categories:
  - Docker
tags:
  - Docker
author: 
  name: whcoding
  link: https://github.com/whcoding
---

### DockerFile 介绍

- dockerfile 是用来构建docker镜像的文件, 命令参数脚本.

<!-- more -->

### DockerFile 构建过程

#### 基础知识

- 每个保留关键字(指令) 都必须是大写字母
- 从上到下的执行顺序
- 每一个指令都会创建提交一个新的镜像层, 并提交



### DockerFile 指令

````
FROM        # 基础镜像, 所有的东西都从这里开始
MAINTAINER  # 镜像作者 姓名+邮箱
RUN         # 镜像构建的时候需要运行的命令 
ADD         # 需要加入的内容 比如 mysql, nginx, Ubuntu 等
WORKDIR     # 镜像的工作目录
VOLUME      # 挂载目录
EXPOSE      # 暴露端口配置
CMD         # 指定这个容器启动的时候要运行的命令, 只有最后一个会生效, 可被替代
ENTRYPOINT  # 指定这个容器启动的时候要运行的命令, 可以追加命令
ONBUILD     # 当构建一个被继承 DockerFile 这个时候需要这个命令
COPY        # 将我们的文件拷贝到镜像中
ENV         # 构建的时候设置环境变量

````

### 使用 DockerFile 构建 dnmp

todo .... 

### 发布镜像到 DockerHub

#### 前提条件

1. 注册docker账号
2. 在终端登录上自己的账号 命令: docker login

#### 发布命令

> docker push 作者名字/镜像名字:标签名字