---
title: 更改 nginx php-fpm 运行用户
date: 2020-04-10 10:52:13
permalink: /pages/ad00eb/
categories:
  - Nginx
tags:
  - 
author: 
  name: whcoding
  link: https://github.com/whcoding
---

#### 为什么要更改运行用户
  - nginx 和 fpm 默认运行用户的 www-data
  - 再部署项目的时候 一般来说都是用自己创建的用户去 `git clone` 代码 所以 `clone` 下来的代码文件 都属于这个用户, 所以在运行项目的时候就会有很多权限的问题, 所以要改变 nginx 和 fpm 的默认运行用户

#### 更改 nginx 默认用户
```code
vi /etc/nginx/nginx.conf
```
```code
user 更改这里;
worker_processes auto;
pid /run/nginx.pid;
include /etc/nginx/modules-enabled/*.conf;

events {
        worker_connections 768;
        # multi_accept on;
}

```
#### 更改 php-fpm 默认用户

```code
/etc/php/7.3/fpm/pool.d/www.conf
```
```code
..... 
user = 更改这里
group = 更改这里

....
listen.owner = 更改这里
listen.group = 更改这里
```

最后要记得 重启 nginx 和 php-fpm 